<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>High Speed Vision System: fcdynamic.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>fcdynamic.h File Reference</h1>a required header file  
<a href="#_details">More...</a>
<p>
<code>#include &lt;windows.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;time.h&gt;</code><br>
<code>#include &lt;conio.h&gt;</code><br>
<code>#include &lt;errno.h&gt;</code><br>
<code>#include &quot;cv.h&quot;</code><br>
<code>#include &quot;cxcore.h&quot;</code><br>
<code>#include &quot;highgui.h&quot;</code><br>
<code>#include &quot;fgrab_struct.h&quot;</code><br>
<code>#include &quot;fgrab_prototyp.h&quot;</code><br>
<code>#include &quot;fgrab_define.h&quot;</code><br>
<code>#include &quot;FastConfig.h&quot;</code><br>

<p>
<a href="fcdynamic_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtracking__window.html">tracking_window</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Keeps updated state information on the position of the ROI and the object being tracked.  <a href="structtracking__window.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtracking__sequence.html">tracking_sequence</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A convenience structure containing the active ROIs and the order in which the ROIs are activated.  <a href="structtracking__sequence.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structframe__info.html">frame_info</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">timing information for a particular frame  <a href="structframe__info.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtiming__info.html">timing_info</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Global and local timing information.  <a href="structtiming__info.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#5d8d172be98804c39bb311ead048123a">ONLINE</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">determines whether to use code meant for a live camera or images from a file  <a href="#5d8d172be98804c39bb311ead048123a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5bfed4c169b3ba78dddf5d0785f25e69"></a><!-- doxytag: member="fcdynamic.h::MIN_SEQ_LEN" ref="5bfed4c169b3ba78dddf5d0785f25e69" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MIN_SEQ_LEN</b>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8c93194299b65f77c7242af451d54b92"></a><!-- doxytag: member="fcdynamic.h::ANIMATION_LENGTH" ref="8c93194299b65f77c7242af451d54b92" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ANIMATION_LENGTH</b>&nbsp;&nbsp;&nbsp;32</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e96413e77ca40f182f2fe4fef0e52490"></a><!-- doxytag: member="fcdynamic.h::ANIMATION_NAME" ref="e96413e77ca40f182f2fe4fef0e52490" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ANIMATION_NAME</b>&nbsp;&nbsp;&nbsp;&quot;cross/Slide&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="87b537f5fa5c109d3c05c13d6b18f382"></a><!-- doxytag: member="fcdynamic.h::WHITE" ref="87b537f5fa5c109d3c05c13d6b18f382" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>WHITE</b>&nbsp;&nbsp;&nbsp;255</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e5f70677050eecd8909e0248e07b9e73"></a><!-- doxytag: member="fcdynamic.h::GRAY" ref="e5f70677050eecd8909e0248e07b9e73" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>GRAY</b>&nbsp;&nbsp;&nbsp;128</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7b3b25cba33b07c303f3060fe41887f6"></a><!-- doxytag: member="fcdynamic.h::BLACK" ref="7b3b25cba33b07c303f3060fe41887f6" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>BLACK</b>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="850b2f07a67b73890889e63fb8a49fda"></a><!-- doxytag: member="fcdynamic.h::BACKGROUND" ref="850b2f07a67b73890889e63fb8a49fda" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>BACKGROUND</b>&nbsp;&nbsp;&nbsp;BLACK</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2a375179c125d0867430c6778c343b6f"></a><!-- doxytag: member="fcdynamic.h::FOREGROUND" ref="2a375179c125d0867430c6778c343b6f" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>FOREGROUND</b>&nbsp;&nbsp;&nbsp;WHITE</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6d0652ae6ea6a5c4fef68baf139fd085"></a><!-- doxytag: member="fcdynamic.h::BORDER" ref="6d0652ae6ea6a5c4fef68baf139fd085" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>BORDER</b>&nbsp;&nbsp;&nbsp;GRAY</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="26e5cc98fa7c683257778bce49df7ca6"></a><!-- doxytag: member="fcdynamic.h::OBJECT_FOUND" ref="26e5cc98fa7c683257778bce49df7ca6" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>OBJECT_FOUND</b>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="45ba202b05caf39795aeca91b0ae547e"></a><!-- doxytag: member="fcdynamic.h::TIMEOUT" ref="45ba202b05caf39795aeca91b0ae547e" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>TIMEOUT</b>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="50b534f44fd8e73ec8479c43d8e4bc1e"></a><!-- doxytag: member="fcdynamic.h::DO_INIT" ref="50b534f44fd8e73ec8479c43d8e4bc1e" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>DO_INIT</b>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8ecf5bfdf8cb1a3815c083ec2374255e"></a><!-- doxytag: member="fcdynamic.h::MAX_ROI" ref="8ecf5bfdf8cb1a3815c083ec2374255e" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MAX_ROI</b>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#e97c643037137c845cd9789a56404662">PIXEL</a>(win, i, j)&nbsp;&nbsp;&nbsp;((win)-&gt;img[(j) + ((i) * (win)-&gt;roi_w)])</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set or get the pixel at location [<code>i</code>, <code>j</code>] in the <a class="el" href="structtracking__window.html" title="Keeps updated state information on the position of the ROI and the object being tracked...">tracking_window</a> <code>win</code> pixel array.  <a href="#e97c643037137c845cd9789a56404662"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="structtracking__window.html">tracking_window</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#2d6a42c8b2435a2575c14eb7b699d632">TrackingWindow</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the shorthand and actually used form of <a class="el" href="structtracking__window.html" title="Keeps updated state information on the position of the ROI and the object being tracked...">tracking_window</a>  <a href="#2d6a42c8b2435a2575c14eb7b699d632"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="structtracking__sequence.html">tracking_sequence</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#77ab18f30cf08e5d6f3da3d5e8d1d949">TrackingSequence</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the shorthand and actually used form of <a class="el" href="structtracking__sequence.html" title="A convenience structure containing the active ROIs and the order in which the ROIs...">tracking_sequence</a>  <a href="#77ab18f30cf08e5d6f3da3d5e8d1d949"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1b720fb5f57b3c9cc9b6d1d4e6558019"></a><!-- doxytag: member="fcdynamic.h::FrameInfo" ref="1b720fb5f57b3c9cc9b6d1d4e6558019" args="" -->
typedef struct <a class="el" href="structframe__info.html">frame_info</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>FrameInfo</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bfcf971c853ce7a4ec4e4c970e11129a"></a><!-- doxytag: member="fcdynamic.h::TimingInfo" ref="bfcf971c853ce7a4ec4e4c970e11129a" args="" -->
typedef struct <a class="el" href="structtiming__info.html">timing_info</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>TimingInfo</b></td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#1ccfdf61f0b21fd2eb95cae27bd448c2">roi_index</a> { <br>
&nbsp;&nbsp;<b>ROI_0</b> =  0, 
<b>ROI_1</b>, 
<b>ROI_2</b>, 
<b>ROI_3</b>, 
<br>
&nbsp;&nbsp;<b>ROI_4</b>, 
<b>ROI_5</b>, 
<b>ROI_6</b>, 
<b>ROI_7</b>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the eight indices enumerated as ROI_n  <a href="fcdynamic_8h.html#1ccfdf61f0b21fd2eb95cae27bd448c2">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#cc4c2dcfa331eb4c874ba093e79e2a30">init_cam</a> (Fg_Struct **grabber, int memsize, int buffers, int camlink)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the framegrabber and camera.  <a href="#cc4c2dcfa331eb4c874ba093e79e2a30"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#e8a20d30877336921c8e94faad7641af">acquire_imgs</a> (Fg_Struct *fg, int *sequence, int seq_len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transfers the initial region of interest (ROI) information to the frame grabber.  <a href="#e8a20d30877336921c8e94faad7641af"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#79e0b2732bc93a6afca32e4df735ee7b">deinit_cam</a> (Fg_Struct *fg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stops grabbing images and frees resources associated with the frame grabber.  <a href="#79e0b2732bc93a6afca32e4df735ee7b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="36932ac193486db892549b5f3f70dd74"></a><!-- doxytag: member="fcdynamic.h::get_mem" ref="36932ac193486db892549b5f3f70dd74" args="()" -->
const unsigned long *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#36932ac193486db892549b5f3f70dd74">get_mem</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a pointer to buffer memory allocated by the frame buffer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#fd69c2ace7e86f120436ea010ad26861">roi_sequence</a> (Fg_Struct *fg, int *seq, int len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Writes the active ROI sequence to the frame grabber.  <a href="#fd69c2ace7e86f120436ea010ad26861"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="83b14183c998e51eebe11913657e7145"></a><!-- doxytag: member="fcdynamic.h::set_roi" ref="83b14183c998e51eebe11913657e7145" args="(int index, int width, int height, int exposure, int frame)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>set_roi</b> (int index, int width, int height, int exposure, int frame)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#0ead94141e1810e5f9f9d4b269744b58">roi_window</a> (int index, int x, int width, int y, int height)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Specifies the position in the image for <code>index</code>-th ROI.  <a href="#0ead94141e1810e5f9f9d4b269744b58"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#6c9b0ff9745a7a6c7a8b629efeb80208">roi_exposure</a> (int index, double exp, double ft)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Specifies the exposure and frame time of the image for <code>index</code>-th ROI.  <a href="#6c9b0ff9745a7a6c7a8b629efeb80208"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#33f1849bae7d871e7a832b297289f4ed">roi_linlog</a> (int index, int use_linglog, int ll1, int ll2, int comp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Specifies the linlog parameters of the image for <code>index</code>-th ROI.  <a href="#33f1849bae7d871e7a832b297289f4ed"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#bc3e84512e8cb525e8fa0697bd41e13a">write_roi</a> (Fg_Struct *fg, int index, int imgNr, int doInit)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Writes the ROI information of the <code>index</code>-th ROI to the frame grabber.  <a href="#bc3e84512e8cb525e8fa0697bd41e13a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#920b326578a2f74dfc5ed054dc054507">threshold</a> (<a class="el" href="structtracking__window.html">TrackingWindow</a> *win, int t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">binarizes an image  <a href="#920b326578a2f74dfc5ed054dc054507"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#eb63d5d71ed81bda87a6bb9aa9ece9eb">boundary</a> (<a class="el" href="structtracking__window.html">TrackingWindow</a> *win)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">finds the boundary of an image  <a href="#eb63d5d71ed81bda87a6bb9aa9ece9eb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#11e09454f9e9aac3116c221511c08f52">erode</a> (<a class="el" href="structtracking__window.html">TrackingWindow</a> *win)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">a morphological operation that is useful for removing noisy <code>FOREGROUND</code> pixels.  <a href="#11e09454f9e9aac3116c221511c08f52"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#5f3dd96c2f368cb56a68e447465b53b1">time_run</a> (<a class="el" href="structtracking__sequence.html">TrackingSequence</a> *tseq, int num_imgs, int t, double frame, double exposure)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">times different parts of the software  <a href="#5f3dd96c2f368cb56a68e447465b53b1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#5b4698430c3f435950e7034b63b8f111">display_run</a> (<a class="el" href="structtracking__sequence.html">TrackingSequence</a> *tseq, double frame, double exposure)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">shows the tracking software in action  <a href="#5b4698430c3f435950e7034b63b8f111"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#3eb2306c1de7f4323adb826bb00de6bd">set_roi_box</a> (<a class="el" href="structtracking__window.html">TrackingWindow</a> *win, int x, int y)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">sets the ROI to be centered around point [x, y] in the image's coordinate system.  <a href="#3eb2306c1de7f4323adb826bb00de6bd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#d174d76a1eb7f9858d58bcba1a488d2e">fix_blob_bounds</a> (<a class="el" href="structtracking__window.html">TrackingWindow</a> *win)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">a helper function that converts the blob's initial position in the image coordinate system to the ROI coordinate system.  <a href="#d174d76a1eb7f9858d58bcba1a488d2e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#30c6456cd906143ef0875ce30f442514">set_region</a> (int e, int x, int y, int flags, void *param)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">an OpenCV mouse callback routine for the gui that sets the initial ROI locations and the initial blob bounding box.  <a href="#30c6456cd906143ef0875ce30f442514"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#9f461d4425fc7c3f0f1d582fcb650dd0">position</a> (<a class="el" href="structtracking__window.html">TrackingWindow</a> *cur)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">update the current TrackingWindow ROI for the next time it is active in the ROI sequence.  <a href="#9f461d4425fc7c3f0f1d582fcb650dd0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#886618a390a59291ceef4ba14b2b1134">blob</a> (<a class="el" href="structtracking__window.html">TrackingWindow</a> *win)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">produces a tight rectangular bounding box around the object  <a href="#886618a390a59291ceef4ba14b2b1134"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9cf23644df4840e80e6d65b0f3569c4c"></a><!-- doxytag: member="fcdynamic.h::open_comm" ref="9cf23644df4840e80e6d65b0f3569c4c" args="()" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>open_comm</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="612932fe2f471c6fbf34badda5f18d1b"></a><!-- doxytag: member="fcdynamic.h::write_comm" ref="612932fe2f471c6fbf34badda5f18d1b" args="(TrackingWindow *win, int box_x, int box_y)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>write_comm</b> (<a class="el" href="structtracking__window.html">TrackingWindow</a> *win, int box_x, int box_y)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="90764c716204f82fc5d62e81276dc735"></a><!-- doxytag: member="fcdynamic.h::close_comm" ref="90764c716204f82fc5d62e81276dc735" args="()" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>close_comm</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#89f994f3fb8f016ac7b106c303de1626">StartGrabbing</a> (Fg_Struct **fg, <a class="el" href="structtracking__sequence.html">TrackingSequence</a> *tseq, unsigned char **data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">initialization routines for initializing and grabbing camera (or disk) images  <a href="#89f994f3fb8f016ac7b106c303de1626"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#88f1c413ca6ae5a5adaec91dc14c4370">CopyTrackingWindowToImage</a> (<a class="el" href="structtracking__window.html">TrackingWindow</a> *win, IplImage *img)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">copies image data from the tracking window to an image  <a href="#88f1c413ca6ae5a5adaec91dc14c4370"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#7f1566d363e0e84908212d641153d122">CopyImageToTrackingWindow</a> (<a class="el" href="structtracking__window.html">TrackingWindow</a> *win, IplImage *img)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">copies image data from an image to the tracking window  <a href="#7f1566d363e0e84908212d641153d122"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#2686aa43302b2718e22a4a0b477fcd23">PrintTimingData</a> (Fg_Struct *fg, <a class="el" href="structtiming__info.html">TimingInfo</a> *<a class="el" href="structtiming__info.html">timing_info</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">prints a summary of the timing tests performed on the vision system.  <a href="#2686aa43302b2718e22a4a0b477fcd23"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#66255853bb92f71fe6d5efa1728d6ab8">GetNextImage</a> (IplImage **img, int nr, char *name, int seq_len, int show_name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Grabs the n-th image from file.  <a href="#66255853bb92f71fe6d5efa1728d6ab8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcdynamic_8h.html#7a2afc6771a886c1b436e5a5c4a892a6">SetTrackCamParameters</a> (<a class="el" href="structtracking__window.html">TrackingWindow</a> *win, double frame, double exposure)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Combines routine startup code prior to writing the region of interest to the camera.  <a href="#7a2afc6771a886c1b436e5a5c4a892a6"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
a required header file 
<p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="5d8d172be98804c39bb311ead048123a"></a><!-- doxytag: member="fcdynamic.h::ONLINE" ref="5d8d172be98804c39bb311ead048123a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ONLINE&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
determines whether to use code meant for a live camera or images from a file 
<p>
ONLINE is a debugging switch for testing the system on images (ONLINE == 0) or is connected to the Photonfocus TrackCam camera (ONLINE != 0) 
</div>
</div><p>
<a class="anchor" name="e97c643037137c845cd9789a56404662"></a><!-- doxytag: member="fcdynamic.h::PIXEL" ref="e97c643037137c845cd9789a56404662" args="(win, i, j)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PIXEL          </td>
          <td>(</td>
          <td class="paramtype">win,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">j&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((win)-&gt;img[(j) + ((i) * (win)-&gt;roi_w)])</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
set or get the pixel at location [<code>i</code>, <code>j</code>] in the <a class="el" href="structtracking__window.html" title="Keeps updated state information on the position of the ROI and the object being tracked...">tracking_window</a> <code>win</code> pixel array. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>[<code>i</code>, <code>j</code>] is considered in the ROI reference frame. </dd></dl>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="77ab18f30cf08e5d6f3da3d5e8d1d949"></a><!-- doxytag: member="fcdynamic.h::TrackingSequence" ref="77ab18f30cf08e5d6f3da3d5e8d1d949" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtracking__sequence.html">tracking_sequence</a> <a class="el" href="structtracking__sequence.html">TrackingSequence</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the shorthand and actually used form of <a class="el" href="structtracking__sequence.html" title="A convenience structure containing the active ROIs and the order in which the ROIs...">tracking_sequence</a> 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="structtracking__window.html" title="Keeps updated state information on the position of the ROI and the object being tracked...">tracking_window</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="2d6a42c8b2435a2575c14eb7b699d632"></a><!-- doxytag: member="fcdynamic.h::TrackingWindow" ref="2d6a42c8b2435a2575c14eb7b699d632" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtracking__window.html">tracking_window</a> <a class="el" href="structtracking__window.html">TrackingWindow</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the shorthand and actually used form of <a class="el" href="structtracking__window.html" title="Keeps updated state information on the position of the ROI and the object being tracked...">tracking_window</a> 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="structtracking__window.html" title="Keeps updated state information on the position of the ROI and the object being tracked...">tracking_window</a> </dd></dl>

</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="1ccfdf61f0b21fd2eb95cae27bd448c2"></a><!-- doxytag: member="fcdynamic.h::roi_index" ref="1ccfdf61f0b21fd2eb95cae27bd448c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="fcdynamic_8h.html#1ccfdf61f0b21fd2eb95cae27bd448c2">roi_index</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the eight indices enumerated as ROI_n 
<p>
roi_index is an simple way to refer to the 8 ROIs that the Silicon Software API allows. 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="e8a20d30877336921c8e94faad7641af"></a><!-- doxytag: member="fcdynamic.h::acquire_imgs" ref="e8a20d30877336921c8e94faad7641af" args="(Fg_Struct *fg, int *sequence, int seq_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int acquire_imgs           </td>
          <td>(</td>
          <td class="paramtype">Fg_Struct *&nbsp;</td>
          <td class="paramname"> <em>fg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>seq_len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Transfers the initial region of interest (ROI) information to the frame grabber. 
<p>
acquire_imgs tells the frame grabber to start grabbing an infinite number of images. This function will also write the ROI parameters to the frame grabber. The active ROIs will become active on the camera in the order that <code>seq</code> lists them. After cycling through the list, the sequence repeats itself from the beginning. A <code>seq</code> cannot exceed 4,096 entires and <code>seq_len</code> must equal the number of entries in <code>seq</code>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>grabber</em>&nbsp;</td><td>an initialized Fg_Struct object defined in the Silicon Software API </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seq</em>&nbsp;</td><td>the sequence specifying when a ROI is active </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seq_len</em>&nbsp;</td><td>the length of <code>seq</code>.</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="roi_8cpp.html" title="contains routines for manipulating the region of interests (ROI).">roi.cpp</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="886618a390a59291ceef4ba14b2b1134"></a><!-- doxytag: member="fcdynamic.h::blob" ref="886618a390a59291ceef4ba14b2b1134" args="(TrackingWindow *win)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int blob           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtracking__window.html">TrackingWindow</a> *&nbsp;</td>
          <td class="paramname"> <em>win</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
produces a tight rectangular bounding box around the object 
<p>
<code>blob</code> finds an object in a given image as defined by the ROI and pixels in <code>win-&gt;img</code>. This current implementation is a simple bounding box algorithm that assumes the image has been binarized before it attempts to find a blob.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>win</em>&nbsp;</td><td>the TrackingWindow to update the location of the object based on the image data and the ROI</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>if an object is found then <code>OBJECT_FOUND</code>, else <code>!OBJECT_FOUND</code> </dd></dl>

</div>
</div><p>
<a class="anchor" name="eb63d5d71ed81bda87a6bb9aa9ece9eb"></a><!-- doxytag: member="fcdynamic.h::boundary" ref="eb63d5d71ed81bda87a6bb9aa9ece9eb" args="(TrackingWindow *win)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int boundary           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtracking__window.html">TrackingWindow</a> *&nbsp;</td>
          <td class="paramname"> <em>win</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
finds the boundary of an image 
<p>
<code>boundary</code> takes a TrackingWindow after the image data has been binarized and finds the boundary of the object<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>win</em>&nbsp;</td><td>the TrackingWindow with the binarized image data </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="7f1566d363e0e84908212d641153d122"></a><!-- doxytag: member="fcdynamic.h::CopyImageToTrackingWindow" ref="7f1566d363e0e84908212d641153d122" args="(TrackingWindow *win, IplImage *img)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CopyImageToTrackingWindow           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtracking__window.html">TrackingWindow</a> *&nbsp;</td>
          <td class="paramname"> <em>win</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IplImage *&nbsp;</td>
          <td class="paramname"> <em>img</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
copies image data from an image to the tracking window 
<p>
CopyImageToTrackingWindow takes an image (typically from disk) and copies the image data to the tracking window. The data is expected to be an 8-bit gray scale image with at least enough pixels to fill up the tracking window's region of interest. In other words there must be roi_w x roi_h bytes in the image starting at location (roi_xoff, roi_yoff).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>win</em>&nbsp;</td><td>the destination TrackingWindow </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>img</em>&nbsp;</td><td>the source image </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="88f1c413ca6ae5a5adaec91dc14c4370"></a><!-- doxytag: member="fcdynamic.h::CopyTrackingWindowToImage" ref="88f1c413ca6ae5a5adaec91dc14c4370" args="(TrackingWindow *win, IplImage *img)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CopyTrackingWindowToImage           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtracking__window.html">TrackingWindow</a> *&nbsp;</td>
          <td class="paramname"> <em>win</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IplImage *&nbsp;</td>
          <td class="paramname"> <em>img</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
copies image data from the tracking window to an image 
<p>
CopyTrackingWindowToImage takes the image data stored in the TrackingWindow and copies the image data to the image. The image buffer in <code>img</code> must be able to hold an 8-bit gray scale image with roi_w x roi_h bytes starting at location (roi_xoff, roi_yoff) in the <code>img</code>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>win</em>&nbsp;</td><td>the source TrackingWindow </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>img</em>&nbsp;</td><td>the destination image </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="79e0b2732bc93a6afca32e4df735ee7b"></a><!-- doxytag: member="fcdynamic.h::deinit_cam" ref="79e0b2732bc93a6afca32e4df735ee7b" args="(Fg_Struct *fg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int deinit_cam           </td>
          <td>(</td>
          <td class="paramtype">Fg_Struct *&nbsp;</td>
          <td class="paramname"> <em>fg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stops grabbing images and frees resources associated with the frame grabber. 
<p>
deinit_cam stops the frame grabber from acquiring images and frees the resources used by the frame grabber.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>grabber</em>&nbsp;</td><td>an initialized Fg_Struct object defined in the Silicon Software API </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="5b4698430c3f435950e7034b63b8f111"></a><!-- doxytag: member="fcdynamic.h::display_run" ref="5b4698430c3f435950e7034b63b8f111" args="(TrackingSequence *tseq, double frame, double exposure)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int display_run           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtracking__sequence.html">TrackingSequence</a> *&nbsp;</td>
          <td class="paramname"> <em>tseq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>exposure</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
shows the tracking software in action 
<p>
<code>display_run</code> shows a GUI with a live video feed from a camera or a collection of files from disk with the tracking algorithm running in the background. The GUI displays a gray rectangle representing a ROI and a smaller gray rectange inside the ROI representing the blob's bounding box. The user can set the desired threshold value and reposition the ROI at any time. The GUI reacts to the following commands when a keyboard button is pressed:<p>
Notation: let 'x' represent the corresponding character on the keyboard let '0-9' represent either the 0, 1, 2, 3,..., 9 buttons on the keyboard let 'RMB' mean pressing the right mouse button let 'HLMB' mean hold the left mouse button down<p>
To relocate the i-th ROI, press 'i': to enter relocate mode for the ROI '0-7': to select a particular ROI 'RMB': to finally reposition the ROI<p>
To set the object's bounding box, press: 'HLMB': drag the mouse inside the ROI to draw the object's bounding box after drawing the desired box release the 'HLMB'<p>
To threshold the image bounded by a ROI, press 't': to enter threshold mode (make sure to set the object bounding box first!!!) adjust the slider to the desired value located at the top of the GUI<p>
To track an object, press 'p': to start the tracking (make sure to position the ROI and object bounding box)<p>
To step through the images in the GUI frame by frame, press: 's': to enter step mode press any key, but 's' to advance to the next frame<p>
To get help, press: 'h': to print a help message<p>
To quite the GUI, press: 'q': to quit<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tseq</em>&nbsp;</td><td>the TrackingSequence specifying the active ROIs and their initial positions in the image prior to tracking an object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>frame</em>&nbsp;</td><td>the frame time (e.g. length of time between images) in microseconds </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exposure</em>&nbsp;</td><td>the exposure time (e.g. length of time the shutter is kept open) in microseconds </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="11e09454f9e9aac3116c221511c08f52"></a><!-- doxytag: member="fcdynamic.h::erode" ref="11e09454f9e9aac3116c221511c08f52" args="(TrackingWindow *win)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int erode           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtracking__window.html">TrackingWindow</a> *&nbsp;</td>
          <td class="paramname"> <em>win</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
a morphological operation that is useful for removing noisy <code>FOREGROUND</code> pixels. 
<p>
<code>erode</code> takes a TrackingWindow after the image data has been binarized and removes stray <code>FOREGROUND</code> pixels that appear to be noise.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>win</em>&nbsp;</td><td>the TrackingWindow with the binarized image data </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="d174d76a1eb7f9858d58bcba1a488d2e"></a><!-- doxytag: member="fcdynamic.h::fix_blob_bounds" ref="d174d76a1eb7f9858d58bcba1a488d2e" args="(TrackingWindow *win)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fix_blob_bounds           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtracking__window.html">TrackingWindow</a> *&nbsp;</td>
          <td class="paramname"> <em>win</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
a helper function that converts the blob's initial position in the image coordinate system to the ROI coordinate system. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>win</em>&nbsp;</td><td>the TrackingWindow's ROI to fix.</td></tr>
  </table>
</dl>
<code>fix_blob_bounds</code> maps the blob's initial position to the ROI reference frame and it also fixes the bounds if the resulting points are outside the ROI window. 
</div>
</div><p>
<a class="anchor" name="66255853bb92f71fe6d5efa1728d6ab8"></a><!-- doxytag: member="fcdynamic.h::GetNextImage" ref="66255853bb92f71fe6d5efa1728d6ab8" args="(IplImage **img, int nr, char *name, int seq_len, int show_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetNextImage           </td>
          <td>(</td>
          <td class="paramtype">IplImage **&nbsp;</td>
          <td class="paramname"> <em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>seq_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>show_name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Grabs the n-th image from file. 
<p>
GrabNextImage is meant to be an alternative to Fg_getLastPicNumberBlocking (see Silicon Software SDK doc). The behavior is similar to Fg_getLastPicNumberBlocking. The only difference is that the images are loaded from disk as oppose to being grabbed from the camera.<p>
There are a few particular things to keep in mind about this function call. First, similarly to Fg_getLastPicNumberBlocking, the desired image number (<code>nr</code>) can be any non-negative value. If <code>nr</code> is greater than the number of frames on disk, then the <code>nr</code> % <code>seq_len</code> is returned.<p>
The name of the image format must be <code>name</code>x.jpg, where <code>name</code> is the base file name of a jpeg image file and x is the x-th image in the sequence. The first image must have x = 0 and the last image must have x = <code>seq_len</code> - 1. Also, x must contain all integer values between 0 and <code>seq_len</code> - 1.<p>
Images are loaded by counting up from 0 to <code>seq_len</code> - 1 and then counting back down to 0. This process is repeated indefinitely. If a different base name is used GrabNextImage will not reset itself and automatically count up. Instead, it will continue counting in the same direction as its previous call. To change directions set <code>nr</code> = 0.<p>
Finally, <code>img</code> does not have to be uninitialized. If <code>img</code> already points to a preexiting image, then the image will be released prior to loading the next image in the sequence.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>img</em>&nbsp;</td><td>the destination where the image will be loaded into </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nr</em>&nbsp;</td><td>the desired image to load </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>the base name of the jpeg file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seq_len</em>&nbsp;</td><td>the length of the sequence on disk </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>show_name</em>&nbsp;</td><td>if true, displays the name of the loaded jpeg file </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="cc4c2dcfa331eb4c874ba093e79e2a30"></a><!-- doxytag: member="fcdynamic.h::init_cam" ref="cc4c2dcfa331eb4c874ba093e79e2a30" args="(Fg_Struct **grabber, int memsize, int buffers, int camlink)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_cam           </td>
          <td>(</td>
          <td class="paramtype">Fg_Struct **&nbsp;</td>
          <td class="paramname"> <em>grabber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>memsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>camlink</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes the framegrabber and camera. 
<p>
init_cam performs the necessary initialization routines prior to acquiring images. <code>memsize</code> should equal the image width x image height x <code>buffers</code>. Although this is not enforced, undesired behavior may result.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>grabber</em>&nbsp;</td><td>an uninitialized Fg_Struct object defined in the Silicon Software API </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>memsize</em>&nbsp;</td><td>the image buffer memory size in bytes </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffers</em>&nbsp;</td><td>the number of buffer to divide the memsize bytes into </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>camlink</em>&nbsp;</td><td>the camera link type as defined in the Silicon Software API</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>camlink is typically set to <code>FG_CL_DUALTAP_8_BIT</code> in order to maximize the number of pixel information that can be sent over the cable (physically) connecting the framegrabber and camera. </dd></dl>

</div>
</div><p>
<a class="anchor" name="9f461d4425fc7c3f0f1d582fcb650dd0"></a><!-- doxytag: member="fcdynamic.h::position" ref="9f461d4425fc7c3f0f1d582fcb650dd0" args="(TrackingWindow *cur)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int position           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtracking__window.html">TrackingWindow</a> *&nbsp;</td>
          <td class="paramname"> <em>cur</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
update the current TrackingWindow ROI for the next time it is active in the ROI sequence. 
<p>
<code>position</code> searches for the blob in an image and updates the TrackingWindow with the new blob and ROI positions for the next time the TrackingWindow is active.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cur</em>&nbsp;</td><td>the current TrackingWindow to update with new position information</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>if an object is found then <code>OBJECT_FOUND</code>, else <code>!OBJECT_FOUND</code></dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>the current underlying algorithm calls <code>blob</code> to find the object and then calls <code>set_roi_box</code> to center the ROI around the center of the blob's bounding box. Careful modification of these two functions may improve the tracking capabilities of the vision system with more complex algorithms that still meet the desired timing constraints. </dd></dl>

</div>
</div><p>
<a class="anchor" name="2686aa43302b2718e22a4a0b477fcd23"></a><!-- doxytag: member="fcdynamic.h::PrintTimingData" ref="2686aa43302b2718e22a4a0b477fcd23" args="(Fg_Struct *fg, TimingInfo *timing_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PrintTimingData           </td>
          <td>(</td>
          <td class="paramtype">Fg_Struct *&nbsp;</td>
          <td class="paramname"> <em>fg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtiming__info.html">TimingInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>timer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
prints a summary of the timing tests performed on the vision system. 
<p>
PrintTimingData is meant to be used in conjunction with the TimingInfo structure. It will print out a summary of the parameters used in the vision system and a table of timing data for different aspects of it. If images were not grabbed from the TrackCam camera set fg = NULL.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fg</em>&nbsp;</td><td>the frame grabber structure (see Silicon Software SDK doc), which can be NULL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timer</em>&nbsp;</td><td>the data structure containing all of the relevant timing information</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="time__run_8cpp.html" title="a profiling program that records the length of time of certain functions of interest...">time_run.cpp</a> <p>
TimingInfo </dd></dl>

</div>
</div><p>
<a class="anchor" name="6c9b0ff9745a7a6c7a8b629efeb80208"></a><!-- doxytag: member="fcdynamic.h::roi_exposure" ref="6c9b0ff9745a7a6c7a8b629efeb80208" args="(int index, double exp, double ft)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int roi_exposure           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>ft</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Specifies the exposure and frame time of the image for <code>index</code>-th ROI. 
<p>
This function specifies the exposure (length of time the camera's shutter is open) and the frame time (length of time until the next image is taken, e.g. the inverse of the frame rate), both in microseconds, that the camera will snap a picture.<p>
Because the frame grabber only supports 8 ROIs, <code>index</code> must lie between 0 and 7 (e.g. ROI_0 &lt;= <code>index</code> &lt;= ROI_7). Finally, the ROI specified by <code>index</code> is NEVER written to the camera. You must call <code>write_roi</code> after calling this function for changes to take effect.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>the ROI where the parameters are saved </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exp</em>&nbsp;</td><td>the exposure time in microseconds </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ft</em>&nbsp;</td><td>the frame time in microseconds</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="fcdynamic_8h.html#1ccfdf61f0b21fd2eb95cae27bd448c2" title="the eight indices enumerated as ROI_n">roi_index</a> <p>
<a class="el" href="roi_8cpp.html#bc3e84512e8cb525e8fa0697bd41e13a" title="Writes the ROI information of the index-th ROI to the frame grabber.">write_roi</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="33f1849bae7d871e7a832b297289f4ed"></a><!-- doxytag: member="fcdynamic.h::roi_linlog" ref="33f1849bae7d871e7a832b297289f4ed" args="(int index, int use_linglog, int ll1, int ll2, int comp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int roi_linlog           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>use_linlog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ll1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ll2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>comp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Specifies the linlog parameters of the image for <code>index</code>-th ROI. 
<p>
This function specifies the linlog parameters (camera-specific technology that can be found in the Photonfocus TrackCam documentation).<p>
Because the frame grabber only supports 8 ROIs, <code>index</code> must lie between 0 and 7 (e.g. ROI_0 &lt;= <code>index</code> &lt;= ROI_7). Finally, the ROI specified by <code>index</code> is NEVER written to the camera. You must call <code>write_roi</code> after calling this function for changes to take effect.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>the ROI where the parameters are saved </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>use_linlog</em>&nbsp;</td><td>a boolean value (0 = FALSE) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ll1</em>&nbsp;</td><td>linlog parameter 1 (see Photonfocus doc for description) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ll2</em>&nbsp;</td><td>linlog parameter 2 (see Photonfocus doc for description) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>comp</em>&nbsp;</td><td>compensation parameter (see Photonfocus doc for description)</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="fcdynamic_8h.html#1ccfdf61f0b21fd2eb95cae27bd448c2" title="the eight indices enumerated as ROI_n">roi_index</a> <p>
<a class="el" href="roi_8cpp.html#bc3e84512e8cb525e8fa0697bd41e13a" title="Writes the ROI information of the index-th ROI to the frame grabber.">write_roi</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="fd69c2ace7e86f120436ea010ad26861"></a><!-- doxytag: member="fcdynamic.h::roi_sequence" ref="fd69c2ace7e86f120436ea010ad26861" args="(Fg_Struct *fg, int *seq, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int roi_sequence           </td>
          <td>(</td>
          <td class="paramtype">Fg_Struct *&nbsp;</td>
          <td class="paramname"> <em>fg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Writes the active ROI sequence to the frame grabber. 
<p>
This function writes the ROI parameters to the frame grabber. The active ROIs will become active on the camera in the order that <code>seq</code> lists them. After cycling through the list, the sequence repeats itself from the beginning. A <code>seq</code> cannot exceed 4,096 entires and <code>seq_len</code> must equal the number of entries in <code>seq</code>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>grabber</em>&nbsp;</td><td>an initialized Fg_Struct object defined in the Silicon Software API </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seq</em>&nbsp;</td><td>the sequence specifying when a ROI is active </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>the length of <code>seq</code>. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="0ead94141e1810e5f9f9d4b269744b58"></a><!-- doxytag: member="fcdynamic.h::roi_window" ref="0ead94141e1810e5f9f9d4b269744b58" args="(int index, int x, int width, int y, int height)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int roi_window           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Specifies the position in the image for <code>index</code>-th ROI. 
<p>
This function specifies what portion of the pixel array on the camera will be transferred up to the application. The window is defined relative to the pixel coordinate system with [0,0] located in the top-most left corner of an image. The window will be placed starting at the the top-most [x,y] pixel coordinate with <code>width</code> and <code>height</code>.<p>
Because the frame grabber only supports 8 ROIs, <code>index</code> must lie between 0 and 7 (e.g. ROI_0 &lt;= <code>index</code> &lt;= ROI_7). Finally, the ROI specified by <code>index</code> is NEVER written to the camera. You must call <code>write_roi</code> after calling this function for changes to take effect.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>the ROI where the parameters are saved </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>the topmost x (or column) position in pixels </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>the topmost y (or row) position in pixels </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>the width of the window </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height</em>&nbsp;</td><td>the height of the window</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="fcdynamic_8h.html#1ccfdf61f0b21fd2eb95cae27bd448c2" title="the eight indices enumerated as ROI_n">roi_index</a> <p>
<a class="el" href="roi_8cpp.html#bc3e84512e8cb525e8fa0697bd41e13a" title="Writes the ROI information of the index-th ROI to the frame grabber.">write_roi</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="30c6456cd906143ef0875ce30f442514"></a><!-- doxytag: member="fcdynamic.h::set_region" ref="30c6456cd906143ef0875ce30f442514" args="(int e, int x, int y, int flags, void *param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_region           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>param</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
an OpenCV mouse callback routine for the gui that sets the initial ROI locations and the initial blob bounding box. 
<p>
<code>set_region</code> is used in the initialization of the system. The blob is in an unknown location and with the assistance of this function, the GUI shown (like in <a class="el" href="display__run_8cpp.html" title="visually shows the tracking algorithm and allows the use to manually set the initial...">display_run.cpp</a>) assists the user in setting the initial position of the object. Currently, dragging the left mouse button set the blob's parameters and pressing the right mouse button causes the ROI to be centered around that click. The function's prototype is specified in the OpenCV documentation. Go there for more details about callbacks in OpenCV<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>e</em>&nbsp;</td><td>the mouse event </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>the x coordinate of the click in the GUI reference frame (e.g. the image reference frame). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>the y coordinate of the click </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>special keyboard modifier keys </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>param</em>&nbsp;</td><td>an optional parameter to pass into the routine. It is used to pass the current TrackingWindow.</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>there is an error between where the mouse is clicked in the GUI and the values reporting the position of the mouse click when this function is called. The visual feedback will be off and will require manual correction from the user by compensating with their mouse clicks. </dd></dl>

</div>
</div><p>
<a class="anchor" name="3eb2306c1de7f4323adb826bb00de6bd"></a><!-- doxytag: member="fcdynamic.h::set_roi_box" ref="3eb2306c1de7f4323adb826bb00de6bd" args="(TrackingWindow *win, int x, int y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_roi_box           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtracking__window.html">TrackingWindow</a> *&nbsp;</td>
          <td class="paramname"> <em>win</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
sets the ROI to be centered around point [x, y] in the image's coordinate system. 
<p>
<code>set_roi_box</code> centers a <code>TrackingWindow</code> ROI around [x, y] and updates the ROI in the system. It is still required to call <code>write_roi</code> in order for the frame grabber to receive the updated values.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>win</em>&nbsp;</td><td>the TrackingWindow containing the ROI to update </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>the x value to center the ROI around (0 &lt;= x &lt;= win-&gt;img_w) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>the y value to center the ROI around (0 &lt;= y &lt;= win-&gt;img_h)</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd><code>set_roi_box</code> will center around [x, y] such that the roi_x and roi_w are multiples of 4 and roi_w is greater than 8. The former is a documented limitation in the Silicon Software API and the latter has been determined through observation. If <code>win-&gt;roi_w</code> &lt;= 8, then the camera hangs and does not send back any more images. It has not been tested to see if this bug is only isolated to the one desktop this code was developed on.<p>
it is important to reiterate that the updated ROI returned by this functions is NOT written to the frame grabber. A call to <code>write_roi</code> is still required. </dd></dl>

</div>
</div><p>
<a class="anchor" name="7a2afc6771a886c1b436e5a5c4a892a6"></a><!-- doxytag: member="fcdynamic.h::SetTrackCamParameters" ref="7a2afc6771a886c1b436e5a5c4a892a6" args="(TrackingWindow *win, double frame, double exposure)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SetTrackCamParameters           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtracking__window.html">TrackingWindow</a> *&nbsp;</td>
          <td class="paramname"> <em>win</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>exposure</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Combines routine startup code prior to writing the region of interest to the camera. 
<p>
SetTrackCamParameters will copy the desired position, window size, frame, and exposure time into the internal <a class="el" href="cam_8cpp.html" title="contains functions for initiatlizing, acquiring, and deinitializing the frame grabber...">cam.cpp</a> ROI structure. It will also set the rarely used linlog parameters (see Silicon Software doc) to <code>USELINLOG, LINLOG1, LINLOG2, COMP</code>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>win</em>&nbsp;</td><td>the tracking window with <code>win-&gt;roi, win-&gt;roi_xoff, win-&gt;roi_w, win-&gt;roi_yoff, win-&gt;roi_h</code> set to reasonable values (see note below) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>frame</em>&nbsp;</td><td>the frame time in microseconds (i.e. length of time between images) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exposure</em>&nbsp;</td><td>the exposure time in microseconds (i.e. length of time camera shutter is open)</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>reasonable values are: 0 &lt; roi &lt; 8, roi_xoff % 4 = 0 &amp;&amp; roi_xoff &lt;= 1024, roi_w % 4 = 0 &amp;&amp; roi_w &gt; 4, roi_yoff &lt;= 1024, and roi_h &lt;= 1024. </dd></dl>

</div>
</div><p>
<a class="anchor" name="89f994f3fb8f016ac7b106c303de1626"></a><!-- doxytag: member="fcdynamic.h::StartGrabbing" ref="89f994f3fb8f016ac7b106c303de1626" args="(Fg_Struct **fg, TrackingSequence *tseq, unsigned char **data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int StartGrabbing           </td>
          <td>(</td>
          <td class="paramtype">Fg_Struct **&nbsp;</td>
          <td class="paramname"> <em>fg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtracking__sequence.html">TrackingSequence</a> *&nbsp;</td>
          <td class="paramname"> <em>tseq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
initialization routines for initializing and grabbing camera (or disk) images 
<p>
StartGrabbing is a wrapper routine for typical startup code when grabbing from a camera or disk. If <code>ONLINE</code> is true then <code>fg</code> must not be NULL, otherwise if <code>ONLINE</code> is false, then <code>data</code> must not be NULL.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fg</em>&nbsp;</td><td>a pointer to the Silicon Software frame grabber structure (see Silicon Software SDK doc) [if ONLINE = 1] </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tseq</em>&nbsp;</td><td>the sequence in which the ROI are active (if ONLINE = 1) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>the buffer that will eventually hold the image data (if ONLINE = 0) </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="920b326578a2f74dfc5ed054dc054507"></a><!-- doxytag: member="fcdynamic.h::threshold" ref="920b326578a2f74dfc5ed054dc054507" args="(TrackingWindow *win, int t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int threshold           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtracking__window.html">TrackingWindow</a> *&nbsp;</td>
          <td class="paramname"> <em>win</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>t</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
binarizes an image 
<p>
<code>threshold</code> takes a TrackingWindow and binarizes the data based on the threshold level, <code>t</code>. All values less than <code>t</code> are colored as <code>BACKGROUND</code> pixels, otherwise the pixel is a <code>FOREGROUND</code> pixel.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>win</em>&nbsp;</td><td>the TrackingWindow to threshold </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>the threshold value </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="5f3dd96c2f368cb56a68e447465b53b1"></a><!-- doxytag: member="fcdynamic.h::time_run" ref="5f3dd96c2f368cb56a68e447465b53b1" args="(TrackingSequence *tseq, int num_imgs, int t, double frame, double exposure)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int time_run           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtracking__sequence.html">TrackingSequence</a> *&nbsp;</td>
          <td class="paramname"> <em>tseq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_imgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>exposure</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
times different parts of the software 
<p>
<code>time_run</code> acquires <code>num_imgs</code> and times several functions in a tight loop. At the end of each run the results are printed to stdout, which can then be piped to a file or another program for further processing.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tseq</em>&nbsp;</td><td>the TrackingSequence specifying the active ROIs and their initial positions in the image prior to tracking an object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>the threshold value to be used with <code>threshold</code> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>frame</em>&nbsp;</td><td>the frame time (e.g. length of time between images) in microseconds </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exposure</em>&nbsp;</td><td>the exposure time (e.g. length of time the shutter is kept open) in microseconds </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="bc3e84512e8cb525e8fa0697bd41e13a"></a><!-- doxytag: member="fcdynamic.h::write_roi" ref="bc3e84512e8cb525e8fa0697bd41e13a" args="(Fg_Struct *fg, int index, int imgNr, int doInit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_roi           </td>
          <td>(</td>
          <td class="paramtype">Fg_Struct *&nbsp;</td>
          <td class="paramname"> <em>fg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>imgNr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>doInit</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Writes the ROI information of the <code>index</code>-th ROI to the frame grabber. 
<p>
write_roi writes any changes made to the <code>index</code>-th ROI. The camera is programmed with the updated changes no sooner than the <code>imgNr</code> image has been taken by the camera. If the camera is triggered via external hardware, camera self-trigger (a.k.a free running), or frame grabber then <code>doInit</code> is FALSE, otherwise the camera is software triggered and it must be TRUE for changes to take place. For more information about the triggering modes consult the Silicon software API.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>grabber</em>&nbsp;</td><td>an initialized Fg_Struct object defined in the Silicon Software API </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>the ROI where the parameters are saved </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>imgNr</em>&nbsp;</td><td>the (minimum) image that the ROI will be active for </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>doInit</em>&nbsp;</td><td>perform a reinitialization of the camera ROI (see Silicon Software API)</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="fcdynamic_8h.html#1ccfdf61f0b21fd2eb95cae27bd448c2" title="the eight indices enumerated as ROI_n">roi_index</a> </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Jan 29 21:50:49 2009 for High Speed Vision System by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
